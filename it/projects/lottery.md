# lottery 抽奖

> 最近重新看了之前做的抽奖项目代码(后端服务)，重新学习一下

## 需求

### 描述

简单地说，实现活动期间，消耗积分/分享可以获得抽奖机会，在一系列限制条件下抽奖

### 限制条件

- 活动时间内

- 用户账号

- 游戏机会来源：

  1. 每天消耗积分可增加 1 次

  1. 微信分享可增加 1 次

- 已中奖则不能再抽中

- 中奖概率：

  1. 奖品概率

  1. 奖品中奖的时间线分布(这个比较重要!!!)，目前粒度是小时

  1. 上一时间区间的奖品未发完则顺延下一时间区间

  1. 上一天的奖品未发完则顺延下一天
